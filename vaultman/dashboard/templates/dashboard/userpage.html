{% extends "theme/base.html" %}
{% load static %}

{% block title %} {{user | capfirst}}{% endblock title %}

{% block body %}

<div class="flex justify-center mt-14">
    <p class="text-4xl text-teal-500">Hello: <span class="text-teal-700">{{request.user |capfirst}}</span></p>
</div>

{% if not user.pin %}
<div class="flex flex-col items-center bg-yellow-200 border-2 rounded-lg w-2/4 mx-auto mt-3 p-2">
    <p class="text-yellow-800 font-bold">Remember to set a PIN to enable content Protection</p>

    <button id="set_pin" class="btn btn-yellow">Set PIN</li>

</div>

{%endif%}


<div id="test" class="flex w-full">

    <div class="mt-24 bg-yellow-400 flex-col flex-shrink ">

            <p class="font-bold">Settings</p>

            {{user.pin}}

            <ul>
                <li id="update_password" class="btn">change MasterPassword</li>
                <li id="update_email" class="btn">change email</li>
               {% if user.pin %}
               <li id="update_pin" class="btn">change PIN</li>


               {%endif%}
            </ul>
            <hr class="my-3">
            <button id="delete_account" class="btn btn-red ">Delete Account</button>

    </div>
    <div class="mt-24 bg-red-400 flex flex-col flex-grow px-36 justify-center items-center">

        <div class="flex flex-col justify-center items-center border-2 p-4 m-6 w-1/2">
                <p>Number of logins:</p>
                <p class="text-5xl ">{{user.num_logins}}</p>
        </div>


        <div id="folder-sect" class="flex flex-col justify-center items-center border-2 p-4 m-6 w-1/2">

            <p >Folders: {{user.num_folders}} </p>
            <div class="flex gap-2 my-8">
               {% for folder in folders %}
               <a href="{% url 'vault:index'%}?folder={{folder}}" class="btn bg-{{folder.color}}-600 p-1 rounded-lg">{{folder}}</a>


               {%endfor%}
            </div>
        </div>

        <div class="self-end">
            <span class="font-bold mr-2">Last access: </span>
            <!-- django date & time template formatting (this example: "3rd, Dec 2022, 10:12 a.m." ) -->
            <span>{{user.last_login |date:"jS, M Y, h:m a"}}</span>
        </div>
    </div>
</div>


<div id="modals">
    {%include 'dashboard/dashboard_modals.html'%}
</div>

{% endblock body %}